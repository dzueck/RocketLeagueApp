
<html>
	<head>
	
	</head>

	<body>
	<p id="demo"></p>
		<script>
		
		//typeof
				//this actualy works now
			let totalGoals = 0;
			const g_interestedInFeatures = [
			  'stats',
			  'match'
			];
			function setFeatures() {
			  overwolf.games.events.setRequiredFeatures(g_interestedInFeatures, function(info) {
				if (info.status == "error")
				{
				  console.log("Could not set required features: " + info.reason);
				  //console.log("Trying in 2 seconds");
				  window.setTimeout(setFeatures, 2000);
				  return;
				}

				console.log("Set required features:");
				console.log(JSON.stringify(info));
			  });
			}
			setFeatures();
			overwolf.games.events.onNewEvents.addListener(function(info) {
				console.log('EVENT FIRED: ' + JSON.stringify(info));
				
				
				
				
			});
			
			overwolf.games.events.onInfoUpdates2.addListener(function(infoUpdateChange) {
				console.log('infoUpdate:'  + JSON.stringify(infoUpdateChange));
				
				if(infoUpdateChange.info.matchInfo.gameState == 'PostGoalScored'){
					totalGoals ++;
				}
				console.log(overwolf.games.events.getInfo());
				
			});
		</script>
		<script async src="opencv.js" onload="onOpenCvReady();" type="text/javascript"></script>
	</body>
</html>

